{"ast":null,"code":"import _classCallCheck from \"/Users/berry/antd-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/berry/antd-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/berry/antd-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/berry/antd-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/berry/antd-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\n\nvar _temp,\n    _jsxFileName = \"/Users/berry/antd-demo/src/pages/CreateMember.js\";\n\nimport React, { Component } from 'react';\nimport { Button, Modal, Form, Input, Select } from 'antd';\nimport axios from 'axios';\nimport './CreateMember.css';\nvar Option = Select.Option;\nvar CollectionCreateForm = Form.create({\n  name: 'form_in_modal'\n})(( //children component\n_temp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateMember, _Component);\n\n  function CreateMember() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateMember);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateMember)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onChangeMembername = function (e) {\n      _this.setState({\n        membername: e.target.value\n      });\n    };\n\n    _this.onChangeTel = function (e) {\n      _this.setState({\n        tel: e.target.value\n      });\n    };\n\n    _this.onChangeRoom = function (e) {\n      _this.setState({\n        room: e.target.value\n      });\n    };\n\n    _this.onChangeEmail = function (e) {\n      _this.setState({\n        email: e.target.value\n      });\n    };\n\n    _this.onChangePassword = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.getMembername = function (membername) {\n      _this.state({\n        membernamevalue: membername\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CreateMember, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          visible = _this$props.visible,\n          onCancel = _this$props.onCancel,\n          onCreate = _this$props.onCreate,\n          form = _this$props.form;\n      var getFieldDecorator = form.getFieldDecorator;\n      var prefixSelector = getFieldDecorator('prefix', {\n        initialValue: '66'\n      })(React.createElement(Select, {\n        style: {\n          width: 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"66\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"+66\")));\n      return React.createElement(Modal, {\n        visible: visible,\n        title: \"Create Member\",\n        okText: \"Create\",\n        onCancel: onCancel,\n        onOk: onCreate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Form, {\n        layout: \"vertical\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        label: \"Member Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, getFieldDecorator('membername', {\n        rules: [{\n          required: true,\n          message: 'Please input member name!'\n        }]\n      })(React.createElement(Input, {\n        onChange: this.getMembername,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"Phone Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, getFieldDecorator('tel', {\n        rules: [{\n          required: true,\n          message: 'Please input your phone number!'\n        }]\n      })(React.createElement(Input, {\n        addonBefore: prefixSelector,\n        onChange: this.onChangeTel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"Room Number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, getFieldDecorator('room', {\n        rules: [{\n          required: true,\n          message: 'Please input room number!'\n        }]\n      })(React.createElement(Input, {\n        onChange: this.onChangeRoom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"E-mail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, getFieldDecorator('email', {\n        rules: [{\n          type: 'email',\n          message: 'The input is not valid E-mail!'\n        }, {\n          required: true,\n          message: 'Please input your E-mail!'\n        }]\n      })(React.createElement(Input, {\n        onChange: this.onChangeEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, getFieldDecorator('password', {\n        rules: [{\n          required: true,\n          message: 'Please input your Password!'\n        }]\n      })(React.createElement(Input, {\n        type: \"password\",\n        onChange: this.onChangePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return CreateMember;\n}(Component), _temp)); //parent component\n\nvar CollectionsPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CollectionsPage, _React$Component);\n\n  function CollectionsPage() {\n    var _getPrototypeOf3;\n\n    var _this2;\n\n    _classCallCheck(this, CollectionsPage);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this2 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(CollectionsPage)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this2.state = {\n      visible: false,\n      membername: \"\",\n      room: \"\",\n      password: \"\",\n      tel: \"\",\n      selectemail: \"\"\n    };\n\n    _this2.showModal = function () {\n      _this2.setState({\n        visible: true\n      });\n    };\n\n    _this2.handleCancel = function () {\n      _this2.setState({\n        visible: false\n      });\n    };\n\n    _this2.handleChangeEmail = function () {\n      var email = _this2.value;\n\n      _this2.props.selectemail(email);\n    };\n\n    _this2.handleCreate = function () {\n      var form = _this2.formRef.props.form;\n      form.validateFields(function (err, values) {\n        if (err) {\n          return;\n        }\n\n        console.log('Received values of form: ', values);\n        form.resetFields();\n\n        _this2.setState({\n          visible: false\n        });\n      });\n      axios.post('http://localhost:4000/members/register', {\n        membername: _this2.state.membername,\n        room: _this2.state.room,\n        email: _this2.state,\n        tel: _this2.state.tel,\n        password: _this2.state.password\n      }).then(function (data) {\n        console.log(data);\n      }).catch(function (error) {\n        console.log(error);\n        alert(error.response.data);\n      });\n    };\n\n    _this2.saveFormRef = function (formRef) {\n      _this2.formRef = formRef;\n    };\n\n    return _this2;\n  }\n\n  _createClass(CollectionsPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.showModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Create Member\"), React.createElement(CollectionCreateForm, {\n        wrappedComponentRef: this.saveFormRef,\n        visible: this.state.visible,\n        onCancel: this.handleCancel,\n        onCreate: this.handleCreate,\n        onChange: this.handleChangeEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CollectionsPage;\n}(React.Component);\n\nexport default CollectionsPage;","map":{"version":3,"sources":["/Users/berry/antd-demo/src/pages/CreateMember.js"],"names":["React","Component","Button","Modal","Form","Input","Select","axios","Option","CollectionCreateForm","create","name","onChangeMembername","e","setState","membername","target","value","onChangeTel","tel","onChangeRoom","room","onChangeEmail","email","onChangePassword","password","getMembername","state","membernamevalue","props","visible","onCancel","onCreate","form","getFieldDecorator","prefixSelector","initialValue","width","rules","required","message","type","CollectionsPage","selectemail","showModal","handleCancel","handleChangeEmail","handleCreate","formRef","validateFields","err","values","console","log","resetFields","post","then","data","catch","error","alert","response","saveFormRef"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,IAAxB,EAA8BC,KAA9B,EAAqCC,MAArC,QAAkD,MAAlD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;IAEQC,M,GAAWF,M,CAAXE,M;AAER,IAAMC,oBAAoB,GAAGL,IAAI,CAACM,MAAL,CAAY;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAZ,IAC3B;AAD2B;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,UAIzBC,kBAJyB,GAIJ,UAACC,CAAD,EAAO;AAC1B,YAAKC,QAAL,CAAc;AACZC,QAAAA,UAAU,EAAEF,CAAC,CAACG,MAAF,CAASC;AADT,OAAd;AAGD,KARwB;;AAAA,UAUzBC,WAVyB,GAUX,UAACL,CAAD,EAAO;AACnB,YAAKC,QAAL,CAAc;AACZK,QAAAA,GAAG,EAAEN,CAAC,CAACG,MAAF,CAASC;AADF,OAAd;AAGD,KAdwB;;AAAA,UAgBzBG,YAhByB,GAgBV,UAACP,CAAD,EAAO;AACpB,YAAKC,QAAL,CAAc;AACZO,QAAAA,IAAI,EAAER,CAAC,CAACG,MAAF,CAASC;AADH,OAAd;AAGD,KApBwB;;AAAA,UAsBzBK,aAtByB,GAsBT,UAACT,CAAD,EAAO;AACrB,YAAKC,QAAL,CAAc;AACZS,QAAAA,KAAK,EAAEV,CAAC,CAACG,MAAF,CAASC;AADJ,OAAd;AAGD,KA1BwB;;AAAA,UA4BzBO,gBA5ByB,GA4BN,UAACX,CAAD,EAAO;AACvB,YAAKC,QAAL,CAAc;AACbW,QAAAA,QAAQ,EAAEZ,CAAC,CAACG,MAAF,CAASC;AADN,OAAd;AAGF,KAhCwB;;AAAA,UAkCzBS,aAlCyB,GAkCT,UAACX,UAAD,EAAgB;AAC/B,YAAKY,KAAL,CAAW;AACTC,QAAAA,eAAe,EAAEb;AADR,OAAX;AAGA,KAtCwB;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAwChB;AAAA,wBAGH,KAAKc,KAHF;AAAA,UAELC,OAFK,eAELA,OAFK;AAAA,UAEIC,QAFJ,eAEIA,QAFJ;AAAA,UAEcC,QAFd,eAEcA,QAFd;AAAA,UAEwBC,IAFxB,eAEwBA,IAFxB;AAAA,UAICC,iBAJD,GAIuBD,IAJvB,CAICC,iBAJD;AAKP,UAAMC,cAAc,GAAGD,iBAAiB,CAAC,QAAD,EAAW;AACjDE,QAAAA,YAAY,EAAE;AADmC,OAAX,CAAjB,CAGrB,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAHqB,CAAvB;AAQA,aACE,oBAAC,KAAD;AACE,QAAA,OAAO,EAAEP,OADX;AAEE,QAAA,KAAK,EAAC,eAFR;AAGE,QAAA,MAAM,EAAC,QAHT;AAIE,QAAA,QAAQ,EAAEC,QAJZ;AAKE,QAAA,IAAI,EAAEC,QALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,IAAD;AAAM,QAAA,MAAM,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGE,iBAAiB,CAAC,YAAD,EAAe;AAC/BI,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,OAAO,EAAE;AAA3B,SAAD;AADwB,OAAf,CAAjB,CAGC,oBAAC,KAAD;AAAO,QAAA,QAAQ,EAAE,KAAKd,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,CADH,CADF,EAQE,oBAAC,IAAD,CAAM,IAAN;AACF,QAAA,KAAK,EAAC,cADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGDQ,iBAAiB,CAAC,KAAD,EAAQ;AACxBI,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,OAAO,EAAE;AAA3B,SAAD;AADiB,OAAR,CAAjB,CAGC,oBAAC,KAAD;AAAO,QAAA,WAAW,EAAEL,cAApB;AAAoC,QAAA,QAAQ,EAAE,KAAKjB,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,CAHC,CARF,EAiBE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCgB,iBAAiB,CAAC,MAAD,EAAS;AACvBI,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,OAAO,EAAE;AAA3B,SAAD;AADgB,OAAT,CAAjB,CAGG,oBAAC,KAAD;AAAO,QAAA,QAAQ,EAAE,KAAKpB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHH,CADD,CAjBF,EAyBE,oBAAC,IAAD,CAAM,IAAN;AACF,QAAA,KAAK,EAAC,QADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGDc,iBAAiB,CAAC,OAAD,EAAU;AAC1BI,QAAAA,KAAK,EAAE,CAAC;AACNG,UAAAA,IAAI,EAAE,OADA;AACSD,UAAAA,OAAO,EAAE;AADlB,SAAD,EAEJ;AACDD,UAAAA,QAAQ,EAAE,IADT;AACeC,UAAAA,OAAO,EAAE;AADxB,SAFI;AADmB,OAAV,CAAjB,CAOC,oBAAC,KAAD;AAAO,QAAA,QAAQ,EAAE,KAAKlB,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPD,CAHC,CAzBF,EAsCF,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,KAAK,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGY,iBAAiB,CAAC,UAAD,EAAa;AAC7BI,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,OAAO,EAAE;AAA3B,SAAD;AADsB,OAAb,CAAjB,CAGC,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,QAAQ,EAAE,KAAKhB,gBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,CADH,CAtCE,CAPF,CADF;AAwDD;AA7GwB;;AAAA;AAAA,EAEAvB,SAFA,UAA7B,C,CAgHA;;IACMyC,e;;;;;;;;;;;;;;;;;WACJf,K,GAAQ;AACNG,MAAAA,OAAO,EAAE,KADH;AAENf,MAAAA,UAAU,EAAE,EAFN;AAGNM,MAAAA,IAAI,EAAE,EAHA;AAINI,MAAAA,QAAQ,EAAE,EAJJ;AAKNN,MAAAA,GAAG,EAAE,EALC;AAMNwB,MAAAA,WAAW,EAAE;AANP,K;;WASRC,S,GAAY,YAAM;AAChB,aAAK9B,QAAL,CAAc;AAAEgB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,K;;WAEDe,Y,GAAe,YAAM;AACnB,aAAK/B,QAAL,CAAc;AAAEgB,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,K;;WAEDgB,iB,GAAoB,YAAK;AACvB,UAAMvB,KAAK,GAAG,OAAKN,KAAnB;;AACA,aAAKY,KAAL,CAAWc,WAAX,CAAuBpB,KAAvB;AACD,K;;WACDwB,Y,GAAe,YAAM;AACnB,UAAMd,IAAI,GAAG,OAAKe,OAAL,CAAanB,KAAb,CAAmBI,IAAhC;AACAA,MAAAA,IAAI,CAACgB,cAAL,CAAoB,UAACC,GAAD,EAAMC,MAAN,EAAiB;AACnC,YAAID,GAAJ,EAAS;AACP;AACD;;AAEDE,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,MAAzC;AACAlB,QAAAA,IAAI,CAACqB,WAAL;;AACA,eAAKxC,QAAL,CAAc;AAAEgB,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD,OARD;AASAvB,MAAAA,KAAK,CAACgD,IAAN,CAAW,wCAAX,EAAoD;AAClDxC,QAAAA,UAAU,EAAE,OAAKY,KAAL,CAAWZ,UAD2B;AAElDM,QAAAA,IAAI,EAAE,OAAKM,KAAL,CAAWN,IAFiC;AAGlDE,QAAAA,KAAK,EAAE,OAAKI,KAHsC;AAIlDR,QAAAA,GAAG,EAAE,OAAKQ,KAAL,CAAWR,GAJkC;AAKlDM,QAAAA,QAAQ,EAAE,OAAKE,KAAL,CAAWF;AAL6B,OAApD,EAMG+B,IANH,CAMQ,UAACC,IAAD,EAAU;AAChBL,QAAAA,OAAO,CAACC,GAAR,CAAYI,IAAZ;AACD,OARD,EAQGC,KARH,CAQS,UAACC,KAAD,EAAW;AAClBP,QAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACAC,QAAAA,KAAK,CAACD,KAAK,CAACE,QAAN,CAAeJ,IAAhB,CAAL;AACD,OAXD;AAYD,K;;WAEDK,W,GAAc,UAACd,OAAD,EAAa;AACzB,aAAKA,OAAL,GAAeA,OAAf;AACD,K;;;;;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,OAAO,EAAE,KAAKJ,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE,oBAAC,oBAAD;AACE,QAAA,mBAAmB,EAAE,KAAKkB,WAD5B;AAEE,QAAA,OAAO,EAAE,KAAKnC,KAAL,CAAWG,OAFtB;AAGE,QAAA,QAAQ,EAAE,KAAKe,YAHjB;AAIE,QAAA,QAAQ,EAAE,KAAKE,YAJjB;AAKE,QAAA,QAAQ,EAAE,KAAKD,iBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAaD;;;;EAjE2B9C,KAAK,CAACC,S;;AAoEpC,eAAeyC,eAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Modal, Form, Input, Select} from 'antd';\nimport axios from 'axios';\nimport './CreateMember.css';\n\nconst { Option } = Select;\n\nconst CollectionCreateForm = Form.create({ name: 'form_in_modal' })(\n  //children component\n  class CreateMember extends Component {\n\n    onChangeMembername = (e) => {\n      this.setState({\n        membername: e.target.value\n      })\n    }\n  \n    onChangeTel = (e) => {\n      this.setState({\n        tel: e.target.value\n      })\n    }\n  \n    onChangeRoom = (e) => {\n      this.setState({\n        room: e.target.value\n      })\n    }\n  \n    onChangeEmail = (e) => {\n      this.setState({\n        email: e.target.value\n      })\n    }\n  \n    onChangePassword = (e) => {\n       this.setState({\n        password: e.target.value\n      })\n    }\n\n    getMembername = (membername) => {\n     this.state({\n       membernamevalue: membername\n     })\n    }\n\n    render() {\n      const {\n        visible, onCancel, onCreate, form,\n      } = this.props;\n      const { getFieldDecorator } = form;\n      const prefixSelector = getFieldDecorator('prefix', {\n        initialValue: '66',\n      })(\n        <Select style={{ width: 70 }}>\n          <Option value=\"66\">+66</Option>\n        </Select>\n      );\n\n      return (\n        <Modal\n          visible={visible}\n          title=\"Create Member\"\n          okText=\"Create\"\n          onCancel={onCancel}\n          onOk={onCreate}\n        >\n          <Form layout=\"vertical\">\n            <Form.Item label=\"Member Name\">\n              {getFieldDecorator('membername', {\n                rules: [{ required: true, message: 'Please input member name!' }],\n              })(\n                <Input onChange={this.getMembername}/>\n              )}\n            </Form.Item>\n            <Form.Item\n          label=\"Phone Number\"\n        >\n          {getFieldDecorator('tel', {\n            rules: [{ required: true, message: 'Please input your phone number!' }],\n          })(\n            <Input addonBefore={prefixSelector} onChange={this.onChangeTel} />\n          )}\n        </Form.Item>\n            <Form.Item label=\"Room Number\">\n            {getFieldDecorator('room', {\n                rules: [{ required: true, message: 'Please input room number!' }],\n              })(\n                <Input onChange={this.onChangeRoom}/>\n              )}\n            \n            </Form.Item>\n            <Form.Item\n          label=\"E-mail\"\n        >\n          {getFieldDecorator('email', {\n            rules: [{\n              type: 'email', message: 'The input is not valid E-mail!',\n            }, {\n              required: true, message: 'Please input your E-mail!',\n            }],\n          })(\n            <Input onChange={this.onChangeEmail}/>\n          )}\n        </Form.Item>\n        <Form.Item label=\"Password\">\n          {getFieldDecorator('password', {\n            rules: [{ required: true, message: 'Please input your Password!' }],\n          })(\n            <Input type=\"password\" onChange={this.onChangePassword}/>\n          )}\n        </Form.Item>\n          </Form>\n        </Modal>\n      );\n    }\n  }\n);\n//parent component\nclass CollectionsPage extends React.Component {\n  state = {\n    visible: false,\n    membername: \"\",\n    room: \"\",\n    password: \"\",\n    tel: \"\",\n    selectemail: \"\"\n  };\n\n  showModal = () => {\n    this.setState({ visible: true });\n  }\n\n  handleCancel = () => {\n    this.setState({ visible: false });\n  }\n\n  handleChangeEmail = () =>{\n    const email = this.value;\n    this.props.selectemail(email);\n  }\n  handleCreate = () => {\n    const form = this.formRef.props.form;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n\n      console.log('Received values of form: ', values);\n      form.resetFields();\n      this.setState({ visible: false });\n    });\n    axios.post('http://localhost:4000/members/register',{\n      membername: this.state.membername,\n      room: this.state.room,\n      email: this.state,\n      tel: this.state.tel,\n      password: this.state.password\n    }).then((data) => {\n      console.log(data)\n    }).catch((error) => {\n      console.log(error);\n      alert(error.response.data);\n    })\n  }\n\n  saveFormRef = (formRef) => {\n    this.formRef = formRef;\n  }\n\n  render() {\n    return (\n      <div>\n        <Button type=\"primary\" onClick={this.showModal}>Create Member</Button>\n        <CollectionCreateForm\n          wrappedComponentRef={this.saveFormRef}\n          visible={this.state.visible}\n          onCancel={this.handleCancel}\n          onCreate={this.handleCreate}\n          onChange={this.handleChangeEmail}\n\n        />\n      </div>\n    );\n  }\n}\n\nexport default CollectionsPage;"]},"metadata":{},"sourceType":"module"}