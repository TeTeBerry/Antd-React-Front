{"ast":null,"code":"import _classCallCheck from \"/Users/berry/antd-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/berry/antd-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/berry/antd-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/berry/antd-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/berry/antd-demo/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/berry/antd-demo/client/src/pages/memberpage/Member.js\";\nimport React from \"react\";\nimport { Table, Divider, Button } from \"antd\";\nimport SetupVolume from \"./SetupVolume\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nvar Member =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Member, _React$Component);\n\n  function Member() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Member);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Member)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      memberList: []\n    };\n\n    _this.showBill = function () {\n      _this.props.history.push(\"/waterbill\");\n    };\n\n    _this.showRealTime = function () {\n      _this.props.history.push(\"/sensorData\");\n    };\n\n    _this.fetchMemberList = function () {\n      axios.get(\"http://localhost:8080/iot/meter/getMeters\").then(function (res) {\n        _this.setState({\n          memberList: res.data.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Member, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchMemberList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var columns = [{\n        title: \"Meter Name\",\n        dataIndex: \"meterName\"\n      }, {\n        title: \"Descriptions\",\n        dataIndex: \"meterDesc\"\n      }, {\n        title: \"Member Name\",\n        dataIndex: \"memberName\"\n      }, {\n        title: \"Room\",\n        dataIndex: \"room\"\n      }, {\n        title: \"Action\",\n        key: \"action\",\n        render: function render(record) {\n          return React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, React.createElement(Button, {\n            type: \"primary\",\n            size: \"small\",\n            onClick: _this2.showRealTime,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, \"View Data\"), React.createElement(Divider, {\n            type: \"vertical\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }), React.createElement(Button, {\n            type: \"primary\",\n            size: \"small\",\n            onClick: _this2.showBill,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, \"Water Bill\"), React.createElement(Divider, {\n            type: \"vertical\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }), React.createElement(Link, {\n            to: \"/report/\" + record.mid,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, \"View Report\"));\n        }\n      }];\n      var memberList = this.state.memberList;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(SetupVolume, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Table, {\n        rowKey: function rowKey(record) {\n          return record.mid;\n        },\n        columns: columns,\n        dataSource: memberList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Member;\n}(React.Component);\n\nexport default Member;","map":{"version":3,"sources":["/Users/berry/antd-demo/client/src/pages/memberpage/Member.js"],"names":["React","Table","Divider","Button","SetupVolume","axios","Link","Member","state","memberList","showBill","props","history","push","showRealTime","fetchMemberList","get","then","res","setState","data","catch","error","console","log","columns","title","dataIndex","key","render","record","mid","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Table, Divider, Button } from \"antd\";\nimport SetupVolume from \"./SetupVolume\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nclass Member extends React.Component {\n  state = {\n    memberList: []\n  };\n\n  showBill = () => {\n    this.props.history.push(\"/waterbill\");\n  };\n\n  showRealTime = () => {\n    this.props.history.push(\"/sensorData\");\n  };\n\n  fetchMemberList = () => {\n    axios\n      .get(\"http://localhost:8080/iot/meter/getMeters\")\n      .then(res => {\n        this.setState({\n          memberList: res.data.data\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  componentDidMount() {\n    this.fetchMemberList();\n  }\n  render() {\n    const columns = [\n      {\n        title: \"Meter Name\",\n        dataIndex: \"meterName\"\n      },\n      {\n        title: \"Descriptions\",\n        dataIndex: \"meterDesc\"\n      },\n      {\n        title: \"Member Name\",\n        dataIndex: \"memberName\"\n      },\n      {\n        title: \"Room\",\n        dataIndex: \"room\"\n      },\n      {\n        title: \"Action\",\n        key: \"action\",\n        render: record => (\n          <span>\n            <Button type=\"primary\" size={\"small\"} onClick={this.showRealTime}>\n              View Data\n            </Button>\n            <Divider type=\"vertical\" />\n            <Button type=\"primary\" size={\"small\"} onClick={this.showBill}>\n              Water Bill\n            </Button>\n            <Divider type=\"vertical\" />\n            <Link to={\"/report/\" + record.mid}>View Report</Link>\n          </span>\n        )\n      }\n    ];\n\n    const { memberList } = this.state;\n    return (\n      <div>\n        <SetupVolume />\n        <Table\n          rowKey={record => record.mid}\n          columns={columns}\n          dataSource={memberList}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Member;\n"]},"metadata":{},"sourceType":"module"}